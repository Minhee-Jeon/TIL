# 04. 변수
## 변수란 무엇인가? 왜 필요한가?
```js
1+2
```            
위 코드를 예로 들어보자.            
`1`과 `2`는 임의의 메모리 주소에 저장되고 CPU는 이 값을 읽어 연산을 한다.           
이 연산 결과로 생성된 숫자 `3`도 메모리 상의 임의의 위치에 저장된다.          
         
이 때 `3`을 재사용하려면 해당 값이 저장된 **메모리 공간에 직접 접근**해야만 한다.      
하지만 메모리 주소로 값에 직접 접근하려다가 OS가 사용 중인 값을 변경한다면 시스템을 멈추게 할 수도 있으며, 코드가 실행되기 전에는 값이 저장될 메모리 주소를 알 수도 없기 때문에 메모리 공간에 직접 접근하는 것은 **올바르지 않은 방법**이다.          
         
연산 후 계산된 값이 할당된 메모리 주소를 저장해두면 `3`을 재사용할 수 있다.         
물론 0x0669F913라는 값만 보고는 어떤 값이 저장되었는지 알기 힘드니 임의로 `result`라는 이름을 지어주면서 저장하자.           
( 이 `result`를 우리는 변수라고 불러요. )        

![](https://velog.velcdn.com/images/skdixm/post/885af789-30e0-4119-a432-baf229726daf/image.png)          
>**변수**는 하나의 값을 저장하기 위해 확보한 **메모리 공간 자체** 또는 **그 메모리 공간을 식별하기 위해 붙인 이름**을 말한다.        
값의 위치를 가리키는 상징적인 이름이기도 하다.          
          
변수를 이용해서 값을 **할당(대입, 저장)**해서 **참조**할 수 있다.          
- 할당: 변수에 값을 저장함        
- 참조: 변수에 저장된 값을 읽어들임         
## 식별자        
>**식별자**는 **어떤 값을 구별해서 식별할 수 있는 고유한 이름**을 말한다.          
         
메모리 상에 존재하는 어떤 값을 식별할 수 있는 이름은 모두 식별자라고 부른다.            
변수, 함수, 클래스 명은 모두 식별자에 해당하며, **선언**으로 자바스크립트 엔진에 식별자의 존재를 알린다.          
식별자(`result`)는 값(`3`)이 아니라 **메모리 주소**(0x0669F913)를 기억한다.          
            
## 변수 선언          
         
변수 선언이란 변수를 생성하는 것을 말한다.           
변수를 사용하려면 반드시 선언이 필요하며(선언하지 않고 식별자에 접근하면 ReferenceError가  발생함), 자바스크립트에서 변수를 선언할 때에는 **var, let, const** 키워드를 사용한다.           
           
```js        
var score;
```          
var 키워드를 사용한 변수 선언은 _선언 단계_와 _초기화 단계_가 동시에 진행되어 쓰레기 값 대신 항상 암묵적으로 undefined가 할당된다.          
- 선언 단계: 변수 이름을 등록 -> 자바스크립트 엔진이 변수의 존재를 알게 됨           
- 초기화 단계: 값을 저장할 메모리 공간을 확보 & 암묵적으로 undefined를 할당            
## 변수 선언의 실행 시점과 변수 호이스팅
```cpp
printf("%d", score); // 식별자 score가 정의되어 있지 않습니다.       

int score = 0;          
```         
컴파일러 언어로 위 코드를  실행했을 때에는 선언, 정의가 되어 있지 않은 변수를 호출하면 에러가 난다.          
```js
console.log(score); // undefined

var score;
```
하지만 자바스크립트에서는 **마치 변수 선언문이 호출 이전으로 끌어올려진 것처럼 값의 호출이 정상적으로 된다.** (우리는 이것을 호이스팅이라고 불러요..)       
이게 왜 될까?        
          
자바스크립트 엔진은 소스를 한줄 한줄 읽어가는 런타임 이전에 소스코드를 평가하며 실행할 준비를 한다.        
이 때 변수 선언문, 함수 선언문 등의 **모든 선언문을 먼저 실행**한다.         
이렇게 소스코드의 평가 과정이 끝나면 **소스코드가 한 줄씩 순차적으로 실행된다.**      
## 값의 할당            
```js
var score; // 변수 선언        
score = 90; // 값의 할당          
```
변수 선언은 **런타임 이전에 먼저 실행**되나, 값의 할당은 **런타임**에 실행된다.            
![](https://velog.velcdn.com/images/skdixm/post/0ace93e0-dd7f-4522-843d-dc4edd741b41/image.jpg)           
변수에 값을 할당할 때에는 그림처럼 ~~undefined가 저장되어 있는 메모리 공간에서 값을 지우고 그 공간에 새로운 할당 값 80을 저장~~하는 것이 아니라 **새로운 메모리 공간을 확보**하고 그 곳에 할당 값 80을 저장한다.         
          
## 값의 재할당         
```js
var score = 80;
score = 90; // 값의 재할당
```          
>재할당이란 이미 값이 할당되어 있는 변수에 새로운 값을 다시 할당하는 것이다.           
              
엄밀히 말하면 값을 할당하는것도 재할당인 셈이다. (undefined -> `80`)          
할당과 마찬가지로 새 메모리 공간을 확보한 후 그곳에 `90`을 저장한다.           
이전에 쓰였지만 이제 어떤 식별자와도 연결되어 있지 않은 `undefined`와 `80`은 불필요한 값이라는 것을 의미한다.             
-> GC에 의해 메모리에서 자동 해제되나, 언제 메모리에서 해제될지는 예측할 수 없다.          
>이건 매니지드 언어의 특성..            
메모리 해제의 시점을 모르니 값의 할당/재할당의 횟수가 적으면 적을수록 좋을 것 같네?           
           
## 식별자 네이밍 규칙          
식별자는 네이밍 규칙을 준수해야 한다.         
         
- 식별자는 특수문자를 제외한 문자, 숫자, 언더스코어(_), 달러 기호($)를 포함할 수 있다.          
- 단, 특수 문자나 숫자로 시작하는 것은 허용하지 않는다.           
- 예약어는 식별자로 사용할 수 없다.          
          
변수명은 주석이 필요 없을 정도로 의미를 명확하게 표현해야 한다.           
          
**네이밍 컨벤션**이란 하나 이상의 영어 단어로 구성된 식별자를 만들 때 가독성이 좋게 단어를 한눈에 구분하기 위해 규정한 명명 규칙이다.           
ECMAScript 사양에 정의되어 있는 객체와 함수들도 카멜 케이스와 파스칼 케이스를 사용하고 있다. 따라서 코드 전체의 가독성을 높이려면 카멜 케이스와 파스칼 케이스를 따르는 것이 유리하다.       
```js        
// 1. 카멜 케이스 - 변수명, 함수명
var firstName;
// 2. 스네이크 케이스
var first_name;
// 3. 파스칼 케이스 - 생성자 함수명, 클래스명
var FirstName;
// 4. 헝가리안 케이스
var strFirstName;

var $elem = document.getElementById('myId'); // DOM 노드
var observable$ = fromEvent(document, 'click'); // RxJS 옵저버블
```
